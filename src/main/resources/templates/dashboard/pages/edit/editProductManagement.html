<!DOCTYPE html>
<html th:lang="${#locale.language}" xmlns:th="http://www.thymeleaf.org">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>Krisshop - Admin Panel</title>
	<!-- plugins:css -->
	<link rel="stylesheet" href="../../dashboard/assets/vendors/mdi/css/materialdesignicons.min.css">
	<link rel="stylesheet" href="../../dashboard/assets/vendors/css/vendor.bundle.base.css">

	<link rel="stylesheet" href="../../dashboard/assets/css/style.css">
	<!-- End layout styles -->
	<link rel="shortcut icon" href="../../dashboard/assets/images/krishshop_logo.png" />

	<style>
		.navbar .navbar-brand-wrapper .navbar-brand img {
			height: 70px;
			vertical-align: middle;
		}
	</style>

	<style>
		.dropbtn {
			background-color: #212529;
			color: white;
			font-size: 16px;
			border: none;
			cursor: pointer;
			font-weight: bold;
		}

		.dropdown {
			position: relative;
			display: inline-block;
		}


		.drop_down {
			display: flex;
			flex-direction: row;
		}

		.drop {
			background-color: #fafafa;
			color: black;
			border: none;
		}
	</style>

	<style>
		.add-btn {
			background-color: #ffab00;
			border: none;
			color: white;
			padding: 11px;
			text-align: center;
			text-decoration: none;
			display: inline-block;
			font-size: 14px;
			margin: 4px 2px;
			cursor: pointer;
			border-radius: 8px;
		}

		.add-btn:hover {
			background-color: #ffab00;
		}
	</style>
</head>

<body>
	<div class="container-scroller">
		<div th:replace="dashboard/dashboard::navbar">...</div>
		<div class="container-fluid page-body-wrapper">
			<div th:replace="dashboard/dashboard::sidebar">...</div>

			<div class="main-panel">
				<div class="content-wrapper">
					<div class="page-header">

						<div class="col-lg-12 grid-margin stretch-card">
							<div class="card">
								<div class="card-body">
									<h4 class="card-title" th:text="#{dashbored.editproduct}">Edit Product Management
									</h4>
									<form th:action="@{/updateProductDetails}" method="POST"
										enctype="multipart/form-data" th:object="${productsDetail}">
										<input type="hidden" name="productDetailId"
											th:value="${productsDetail.productDetailId}">
										<input type="hidden" name="id" th:value="${productsDetail.products.id}">

										<div class="row">
											<label class="col-md-2 col-form-label" th:text="#{dashboard.addprompeo}">Add
												People
												<span class="text-danger text-danger">*</span></label>
											<div class="col-md-10">
												<input type="text" class="form-control mb-3" placeholder="Address"
													value="admin" required readonly>
											</div>
										</div>

										<div class="row">
											<label class="col-md-2 col-form-label"
												th:text="#{dashboard.addpromsell}">Selling Price
												<span class="text-danger text-danger">*</span></label>
											<div class="col-md-10">
												<input type="number" class="form-control mb-3" th:field="*{unitPrice}"
													placeholder="Address" name="unitPrice" id="unitPrice" required
													readonly>
											</div>
										</div>

										<div class="row">
											<label class="col-md-2 col-form-label"
												th:text="#{dashboard.addpromnam}">Product
												Name<span class="text-danger text-danger">*</span></label>
											<div class="col-md-10">
												<input type="text" class="form-control mb-3" id="productName"
													th:value="${productsDetail.products.name}"
													placeholder="Product Name" name="productName" required>
											</div>
										</div>

										<!--<div class="row">
											<label class="col-md-2 col-form-label" > Product
												Image
												<span class="text-danger text-danger">*</span>
											</label>
											<div class="col-md-10">
												<input type="text" class="form-control mb-3" th:field="*{imageName}"
													placeholder="Phone" id="shopPhoneNo" name="shopPhoneNo" required>
											</div>
										</div>-->
										<div class="row">
											<label class="col-md-2 col-form-label" th:text="#{main.price}">Product Price
												<span class="text-danger text-danger">*</span></label>
											<div class="col-md-10">
												<input type="number" class="form-control mb-3" min="1"
													th:value="${productsDetail.products.price}" placeholder="Address"
													name="price" id="price" required>
											</div>
										</div>

										<div class="row">
											<label class="col-md-2 col-form-label"
												th:text="#{dashbored.productqty}">Product Qty
												<span class="text-danger text-danger">*</span></label>
											<div class="col-md-10">
												<input type="number" class="form-control mb-3" min="1"
													th:value="${productsDetail.products.qty}" placeholder="Address"
													name="productQty" id="productQty" required>
											</div>
										</div>

										<div class="row">
											<label class="col-md-2 col-form-label"
												th:text="#{vieworder.orderproddetil}">Product
												Detail<span class="text-danger text-danger">*</span></label>
											<div class="col-md-10">
												<textarea type="text" class="form-control mb-3" id="productdetail"
													th:text="${productsDetail.products.remarks}"
													placeholder="Product deatil" name="productdetail"
													required></textarea>
											</div>
										</div>


										<div class="row mb-3">
											<label class="col-md-2 col-form-label"
												th:text="#{dashboard.addprodu}">Product Image</label>
											<div class="col-md-10">
												<input type="file" class="custom-file-input mt-2 mb-4" name="productImg"
													accept="image/gif, image/jpg, image/jpeg, image/png"
													id="productImg" />
												<!-- <label class="custom-file-label" for="productImg">Choose
												file</label>-->
												<br>

												<img height="100px" width="100px"
													th:src="@{/addproductimg/{imageName}(imageName=${productsDetail.products.imageName})}" />
												<input type="hidden" name="imgName"
													th:value="${productsDetail.products.imageName}" />
											</div>
										</div>

										<div class="form-group mb-0 text-right btnsave"
											style="text-align: right !important;">
											<button type="submit" class="btn btn-sm"
												style="background-color: #ffab00;color: white;"
												th:text="#{shop.shopsave}">Save</button>
										</div>
									</form>
								</div>
							</div>
						</div>


					</div>
				</div>

				<div th:replace="dashboard/dashboard::footer">...</div>
				<!-- partial -->
			</div>
			<!-- main-panel ends -->
		</div>
		<!-- page-body-wrapper ends -->
	</div>

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

	<script>
		document.addEventListener('DOMContentLoaded', function () {
			document.getElementById('language-select').addEventListener('change', function () {
				console.log('Language selected:', this.value);
				window.location.href = '?lang=' + this.value;
			});
		});
		$(document).ready(function () {
			var currentLang = $('html').attr('lang');
			$('#language-select').val(currentLang);
		});
	</script>

	<script>
		function readURL(input) {
			if (input.files && input.files[0]) {
				var reader = new FileReader();
				reader.onload = function (e) {
					$('#imgPreview').attr('src', e.target.result).width(100)
						.height(100);
				}
				reader.readAsDataURL(input.files[0])
			}
		}
		$('#productImg').change(function () {
			readURL(this);
		});
		$(".custom-file-input").on(
			"change",
			function () {
				var fileName = $(this).val().split("\\").pop();
				$(this).siblings(".custom-file-label").addClass("selected")
					.html(filename);
			});
	</script>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script>
		$(document).ready(function () {
			$('#productImg').on('change', function () {
				// Get the selected file name
				var fileName = $(this).val().split('\\').pop();

				// Update the label text
				$(this).next('.custom-file-label').html(fileName);
			});
		});
	</script>

	<script src="../../dashboard/assets/vendors/js/vendor.bundle.base.js"></script>
	<script src="../../dashboard/assets/js/off-canvas.js"></script>
	<script src="../../dashboard/assets/js/hoverable-collapse.js"></script>
	<script src="../../dashboard/assets/js/misc.js"></script>
</body>

</html>